TODOs:
 * Unit tests
 * Better command argument parsing
